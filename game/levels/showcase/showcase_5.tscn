[gd_scene load_steps=19 format=4 uid="uid://dlwvfeol3c4ar"]

[ext_resource type="Script" path="res://core/system/scene/area.gd" id="1_2p7y6"]
[ext_resource type="Resource" uid="uid://d4jty23uuw4bw" path="res://game/themes/custom/pink_theme.tres" id="2_n8otw"]
[ext_resource type="Script" path="res://core/system/folder_2d.gd" id="3_wwdh4"]
[ext_resource type="PackedScene" uid="uid://dq45r84k0k6e2" path="res://core/game_objects/other/floor/floor.tscn" id="4_w5kct"]
[ext_resource type="PackedScene" uid="uid://lgefvp2uysn3" path="res://core/game_objects/solids/tile_map/solid_tile_set.tscn" id="5_4xrfy"]
[ext_resource type="Script" path="res://core/game_objects/solids/solid.gd" id="6_p4hwf"]
[ext_resource type="PackedScene" uid="uid://bf8htjaobfs6b" path="res://core/game_objects/other/checkpoint/checkpoint.tscn" id="7_p6kkt"]
[ext_resource type="PackedScene" uid="uid://d2tu2qgth8he6" path="res://core/game_objects/other/enemy/enemy.tscn" id="8_f4yxg"]
[ext_resource type="PackedScene" uid="uid://dfobwvq7x8k6i" path="res://core/game_objects/other/circle/circle.tscn" id="9_6kfhk"]
[ext_resource type="PackedScene" uid="uid://b1dbw36tkmvwy" path="res://core/game_objects/collectables/coin/coin.tscn" id="10_qjas6"]
[ext_resource type="PackedScene" uid="uid://b0dbbdclyjpxo" path="res://core/game_objects/collectables/key/key.tscn" id="11_r2imm"]
[ext_resource type="PackedScene" uid="uid://emohoynp8joi" path="res://core/game_objects/solids/gold_door/gold_door.tscn" id="12_de447"]
[ext_resource type="PackedScene" uid="uid://ctie7hckoi342" path="res://core/game_objects/solids/key_door/key_door.tscn" id="13_kpntl"]
[ext_resource type="PackedScene" uid="uid://bs5rt1uniqm2g" path="res://core/game_objects/other/turret/turret.tscn" id="14_r6aap"]
[ext_resource type="Script" path="res://core/components/tick_based_timer.gd" id="15_3xdrf"]
[ext_resource type="Script" path="res://core/components/velocity_component/velocity_component.gd" id="15_oq1b2"]
[ext_resource type="PackedScene" uid="uid://jqavj6nthx3" path="res://game/scenes/circle_explosion.tscn" id="16_38sd2"]

[sub_resource type="GDScript" id="GDScript_b4mk8"]
resource_name = "turret_random"
script/source = "extends \"res://core/game_objects/other/turret/turret.gd\"

var rng: RandomNumberGenerator = RandomNumberGenerator.new()

func fire_turret() -> void:
	super()
	rotation = rng.randf_range(0, 2*PI)
"

[node name="TemplateLevel" type="Node2D" groups=["area"]]
script = ExtResource("1_2p7y6")
level_code = "1-1"
bottom_text = "BOTTOM TEXT"
theme = ExtResource("2_n8otw")

[node name="Floors" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="Floor" parent="Floors" instance=ExtResource("4_w5kct")]
offset_right = 32.0
offset_bottom = 20.0
color_1 = Color(0.585062, 0.585062, 0.585062, 1)
metadata/_edit_lock_ = true

[node name="Walls" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="TileBasedWall" parent="Walls" instance=ExtResource("5_4xrfy")]
tile_map_data = PackedByteArray("AAAAABIAAAAAAAMAAAAAABEAAAAAAAIAAAAAABAAAAAAAAIAAAAAAA8AAAAAAAIAAAAAAA4AAAAAAAIAAAAAAA0AAAAAAAIAAAAAAAwAAAAAAAIAAAAAAAsAAAAAAAIAAAAAAAoAAAAAAAIAAAAAAAkAAAAAAAIAAAAAAAgAAAAAAAIAAAAAAAcAAAAAAAIAAAAAAAYAAAAAAAIAAAAAAAUAAAAAAAIAAAAAAAQAAAAAAAIAAAAAAAMAAAAAAAIAAAAAAAIAAAAAAAIAAAAAAAEAAAAAAAEAAAAfABIAAAAAAAMAAAAfABEAAAAAAAIAAAAfABAAAAAAAAIAAAAfAA8AAAAAAAIAAAAfAA4AAAAAAAIAAAAfAA0AAAAAAAIAAAAfAAwAAAAAAAIAAAAfAAsAAAAAAAIAAAAfAAoAAAAAAAIAAAAfAAkAAAAAAAIAAAAfAAgAAAAAAAIAAAAfAAcAAAAAAAIAAAAfAAYAAAAAAAIAAAAfAAUAAAAAAAIAAAAfAAQAAAAAAAIAAAAfAAMAAAAAAAIAAAAfAAIAAAAAAAIAAAAfAAEAAAAAAAEAAAAeAAAAAAADAAAAAAAdAAAAAAACAAAAAAAcAAAAAAACAAAAAAAbAAAAAAACAAAAAAAaAAAAAAACAAAAAAAZAAAAAAACAAAAAAAYAAAAAAACAAAAAAAXAAAAAAACAAAAAAAWAAAAAAACAAAAAAAVAAAAAAACAAAAAAAUAAAAAAACAAAAAAATAAAAAAACAAAAAAASAAAAAAACAAAAAAARAAAAAAACAAAAAAAQAAAAAAACAAAAAAAPAAAAAAACAAAAAAAOAAAAAAACAAAAAAANAAAAAAACAAAAAAAMAAAAAAACAAAAAAALAAAAAAACAAAAAAAKAAAAAAACAAAAAAAJAAAAAAACAAAAAAAIAAAAAAACAAAAAAAHAAAAAAACAAAAAAAGAAAAAAACAAAAAAAFAAAAAAACAAAAAAAEAAAAAAACAAAAAAADAAAAAAACAAAAAAACAAAAAAACAAAAAAABAAAAAAABAAAAAAAeABMAAAADAAAAAAAdABMAAAACAAAAAAAcABMAAAACAAAAAAAbABMAAAACAAAAAAAaABMAAAACAAAAAAAZABMAAAACAAAAAAAYABMAAAACAAAAAAAXABMAAAACAAAAAAAWABMAAAACAAAAAAAVABMAAAACAAAAAAAUABMAAAACAAAAAAATABMAAAACAAAAAAASABMAAAACAAAAAAARABMAAAACAAAAAAAQABMAAAACAAAAAAAPABMAAAACAAAAAAAOABMAAAACAAAAAAANABMAAAACAAAAAAAMABMAAAACAAAAAAALABMAAAACAAAAAAAKABMAAAACAAAAAAAJABMAAAACAAAAAAAIABMAAAACAAAAAAAHABMAAAACAAAAAAAGABMAAAACAAAAAAAFABMAAAACAAAAAAAEABMAAAACAAAAAAADABMAAAACAAAAAAACABMAAAACAAAAAAABABMAAAABAAAAAAAAABMAAAAAAAAAAAAfABMAAAAAAAAAAAAfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=")

[node name="Solid" type="Control" parent="Walls"]
layout_mode = 3
anchors_preset = 0
offset_left = 912.0
offset_top = 1392.0
offset_right = 960.0
offset_bottom = 1440.0
script = ExtResource("6_p4hwf")
outline_color = Color(0.4, 0.284, 0.284, 1)
fill_color = Color(1, 0.7, 0.7, 1)

[node name="Checkpoints" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="Checkpoint" parent="Checkpoints" instance=ExtResource("7_p6kkt")]
offset_left = 720.0
offset_top = 576.0
offset_right = 816.0
offset_bottom = 672.0
type = 1
level_warp = "2"

[node name="Enemies" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="BlueEnemy" parent="Enemies" instance=ExtResource("8_f4yxg")]
position = Vector2(648, 1176)

[node name="Circle" parent="Enemies" instance=ExtResource("9_6kfhk")]
position = Vector2(504, 1176)
radius = 1.0
object_count = 7
node = ExtResource("8_f4yxg")

[node name="Coins" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="Coin" parent="Coins" instance=ExtResource("10_qjas6")]
position = Vector2(648, 1416)

[node name="Keys" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="Key" parent="Keys" instance=ExtResource("11_r2imm")]
position = Vector2(888, 1176)

[node name="GoldDoors" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="GoldDoor" parent="GoldDoors" instance=ExtResource("12_de447")]
offset_left = 480.0
offset_top = 1344.0
offset_right = 576.0
offset_bottom = 1440.0
open_time = 120
close_time = 60

[node name="KeyDoors" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="KeyDoor" parent="KeyDoors" instance=ExtResource("13_kpntl")]
offset_left = 960.0
offset_top = 1152.0
offset_right = 1056.0
offset_bottom = 1248.0
open_time = 120
close_time = 60

[node name="Decoration" type="Node2D" parent="."]
editor_description = "This folder doesn't get scanned at launch. Put everything purely decorative that doesn't use IDs here."
script = ExtResource("3_wwdh4")

[node name="Turrets1" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="Turret" parent="Turrets1" node_paths=PackedStringArray("fire_timer") instance=ExtResource("14_r6aap")]
position = Vector2(768, 192)
script = SubResource("GDScript_b4mk8")
object_lifetime = 200
shot_node = ExtResource("8_f4yxg")
velocity = Vector2(5, 0)
fire_timer = NodePath("../../FireTimer1")

[node name="VelocityComponent" type="Node2D" parent="Turrets1/Turret"]
script = ExtResource("15_oq1b2")
angular_velocity = 0.05

[node name="Enemy" parent="Turrets1" instance=ExtResource("8_f4yxg")]
z_index = 4
position = Vector2(768, 192)
scale = Vector2(4, 4)

[node name="Enemy2" parent="Turrets1" instance=ExtResource("8_f4yxg")]
z_index = 4
position = Vector2(1152, 192)
scale = Vector2(4, 4)

[node name="Enemy3" parent="Turrets1" instance=ExtResource("8_f4yxg")]
z_index = 4
position = Vector2(384, 192)
scale = Vector2(4, 4)

[node name="Turrets2" type="Node2D" parent="."]
script = ExtResource("3_wwdh4")

[node name="Turret" parent="Turrets2" node_paths=PackedStringArray("fire_timer") instance=ExtResource("14_r6aap")]
position = Vector2(384, 192)
object_lifetime = 200
shot_node = ExtResource("16_38sd2")
fire_timer = NodePath("../../FireTimer2")

[node name="Turret2" parent="Turrets2" node_paths=PackedStringArray("fire_timer") instance=ExtResource("14_r6aap")]
position = Vector2(1152, 192)
object_lifetime = 200
shot_node = ExtResource("16_38sd2")
fire_timer = NodePath("../../FireTimer2")

[node name="FireTimer1" type="Node" parent="."]
script = ExtResource("15_3xdrf")
metronome = true
autostart = true
duration = 2

[node name="FireTimer2" type="Node" parent="."]
script = ExtResource("15_3xdrf")
metronome = true
autostart = true
duration = 60
